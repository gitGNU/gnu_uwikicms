<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Install</title>
    <meta name="Author" content="U-Foot" />
    <meta name="Description" content="Install (no detailed description)" />
    <meta name="Keywords" content="U-Foot, Christian Mauduit, www.ufoot.org, UWiKiCMS, Documentation, Install" />
    <meta name="Copyright" content="Copyleft &copy; 2005, 2006, 2007, 2013 Christian Mauduit" />
    <meta name="Generator" content="UWiKiCMS" />
    <link rel="stylesheet" type="text/css" media="screen" href="/_uwikicms/template/css/ufoot/style.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/_uwikicms/template/css/ufoot/layout.css" />
    <link rel="stylesheet" type="text/css" media="print" href="/_uwikicms/template/css/ufoot/print.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  </head>
  <body>

    <div id="block1">

    <div id="title" class="default">
    <h1>Install</h1>
    </div>

    </div>

    <div id="block2">

    <div id="control" class="box menu">

        <div id="nav">
    <span class="textmode"> [ </span>

        <a href="/?lang=en"><img src="/_uwikicms/template/images/default/home.png" width="16" height="16" alt="Home: www.ufoot.org" title="www.ufoot.org" class="msiehackbox" /></a>
    
    
        <span class="textmode"> | </span><a href="/uwikicms/doc?lang=en"><img src="/_uwikicms/template/images/default/arrow_up.png" width="16" height="16" alt="Up: Documentation" title="Documentation" class="msiehackbox" /></a>
    
        <span class="textmode"> | </span><a href="/uwikicms/doc/syntax?lang=en"><img src="/_uwikicms/template/images/default/arrow_right.png" width="16" height="16" alt="Next: Formatting rules" title="Formatting rules" class="msiehackbox" /></a>
    
    <span class="textmode"> ] </span>
    </div>
    
        
    <div id="langs">
    <span class="textmode"> [ </span>
          <a href="/uwikicms/doc/install?lang=fr"><img src="/_uwikicms/template/images/default/flag_fr.png" width="24" height="16" alt="Fran&ccedil;ais" title="Fran&ccedil;ais" class="msiehackbox" /></a>
        <span class="textmode"> ] </span>
    </div>
    
        <div id="parents">
        <a href="/?lang=en">
www.ufoot.org    </a> &gt; 
        <a href="/uwikicms?lang=en">
UWiKiCMS    </a> &gt; 
        <a href="/uwikicms/doc?lang=en">
Documentation    </a> &gt; 
        Install    </div>
    
    
        <div id="google">
       <form action="http://www.google.fr/search" method="get" id="google_form">
       <p>
	    <input type="hidden" id="google_ie" name="ie" value="latin1" />
	    <input type="hidden" id="google_as_dt" name="as_dt" value="i" />
	    <input type="hidden" id="google_as_sitesearch" name="as_sitesearch" value="www.ufoot.org" />
	    <input type="text" size="16" maxlength="192" id="google_q" name="q" />
	    <input type="submit" id="google_search" name="search" value="Google search" />
       </p>
        </form>
    </div> 
    
    </div>

    </div>

    <div id="block3"><div id="content" class="status0">
<h2>
Requirements
</h2>
<p>
Installing UWiKiCMS requires an Apache 1.3 / PHP 4.3 server and a MySQL 3.23 database. Those versions are the minimum required, however it's likely that it will work with more recent software (Apache 2, PHP 5, MySQL 4). However, this hasn't been tested.
</p>
<p>
Default install assumes that the Apache serveur reads and understands .htaccess files in the DocumentRoot, and that the ErrorDocument directive is accepted.
</p>
<p>
A <a href="http://www.phpmyadmin.net/home_page/index.php">PhpMyAdmin</a> access or a good knowledge of how to write SQL requests "by hand" can help a lot, since some opérations can only be achieved through low level database operations.
</p>
<p>
The configuration script only works under UNIX. This might not be convenient for Windows users. Quick answer: the day Windows will provide a decent scripting system, a solution might arise. Meanwhile, use Cygwin and/or GNU/Linux.
</p>
<h2>
Download
</h2>
<p>
Official releases of UWiKiCMS are available on:
</p>
<ul>
<li> <a href="http://www.ufoot.org/uwikicms/download">http://www.ufoot.org/uwikicms/download</a>
<li> <a href="http://download.savannah.nongnu.org/releases/uwikicms/">http://download.savannah.nongnu.org/releases/uwikicms/</a>
</ul>
<p>
There is no CVS server for UWiKiCMS,
instead a
<a href="http://www.gnu.org/software/gnu-arch/">GNU Arch</a>
depot is available on
<a href="http://arch.sv.gnu.org/archives/uwikicms/">http://arch.sv.gnu.org/archives/uwikicms/</a> .
To get the latest developpement version, type commands like:
</p>
<pre>
 tla register-archive <a href="http://arch.sv.gnu.org/archives/uwikicms/">http://arch.sv.gnu.org/archives/uwikicms/</a>
 tla get -A uwikicms@sv.gnu.org uwikicms--stable
</pre>
<h2>
How to install
</h2>
<h3>
PHP code
</h3>
<p>
The ./configure script calls ./configure.php. Therefore php must be available as a command line tool in /usr/bin or so (php4-cli package under Debian for instance).
</p>
<p>
This is what ./configure.php does:
</p>
<ul>
<li> copy .htaccess-dist files to .htaccess
<li> copt config.php-dist files to config.php
<li> modify these files on the fly if needed
</ul>
<p>
So if the script does not work, don't panic, you only need to copy "-dist files" to "without -dist files", and edit them by hand.
</p>
<p>
./configure accepts options of the form --key="value", see the different scripts in ./misc to get an idea of how it works. I use these scripts to parameter my own personnal sites. Copy one of these scripts and modify it at will. As these scripts are actually used, there are likely to be up to date, unlike any documentation 8-)
</p>
<p>
Available options follow:
</p>
<ul>
<li> --siteurl=... : the protocol (http or https) + the domain name, for instance <a href="http://www.ufoot.org">http://www.ufoot.org</a> .
<li> --htprefix=... : the root path of your UWiKiCMS wite, without the domain name, for instance if the complete url of the desired home page is <a href="http://www.ufoot.org/uwikicms">http://www.ufoot.org/uwikicms</a> , use --htprefix=/uwikicms
<li> --dbprefix=... : allows you to handle sub-sites. I use this to make <a href="http://ufo.ufoot.org">http://ufo.ufoot.org</a> be the exact same content as <a href="http://www.ufoot.org/perso/ufo">http://www.ufoot.org/perso/ufo</a> . In this case you need to use --dbprefix=/perso/ufo so that only a sub section of the main site is showed.
<li> --dbhost=... : the name of the MySQL serveur (DNS)
<li> --dbname=... : the name of the MySQL database
<li> --dbuser=... : the user used to connect to MySQL
<li> --dbpasswd=... : the password used to connect to MySQL
<li> --images_dir=... : the path used to access the various buttons and other background images, by default it points to "/_uwikicms/template/images/default"  (allows you to handle themes).
<li> --css_dir=... : the path used to access CSS pages, by default "/_uwikicms/template/css/default" (same as previous, allows you to handle themes).
<li> --copyright_holder=... : a name which will be used for copyrights (copyleft!) by default.
<li> --debug : turns "debug" mode on. Basically PHP will print more errors, warning and messages. This is the default mode.
<li> --release : turns "release" mode on. Not very convenient when testing since PHP keeps mute, but very usefull for production use.
</ul>
<p>
Once the configuration is done, put all the files on the PHP server, using ftp ftp instance.
</p>
<p>
Note that there's some black magic in UWiKiCMS, and that it's very important that the .htaccess file at the root of your website exists, and that it contains the right value for the ErrorDocument directive. If not, nothing will work.
</p>
<h3>
 Database
</h3>
<p>
There's no such thing as a "back-office" for the super administrator in UWiKiCMS, which would allow you to handle users. The basic reason is that anything I would have written myself would have been much less efficient than the genuine PhpMyAdmin.
</p>
<p>
Before installing you need to edit ./sql/mysql.sql and:
</p>
<ul>
<li> either suppress all lines beginning by "INSERT INTO uwikicms_user..." and postpone the problem of creating users
<li> either modify these lines directly, using your own values. The thing you really need to change are passwords (values passed to MD5 function), or else anyone will be able to log on your site using "admin/admin", which is far from being secure.
</ul>
<p>
Pass this script on the MySQL server.
</p>
<p>
Drink coffee.
</p>
<h2>
 First connection
</h2>
<p>
Try to access your web site URL, which is in fact the concatenation of $siteurl and $htprefix (remember, the values passed to ./configure...).
</p>
<p>
Logically you should get a "404 Not found" error, in its UWiKiCMS flavour (that is you should read UWiKiCMS at the bottom of the page). This error is normal, since you haven't created any content yet. Click on "Connect", a login form appears. Type the user/passwd of your administrator profile (by default admin/admin, highly secured). "Continue". Now you should see a page creation form with "No title". Edit this document, it will be your home page.
</p>
<p>
Last test, try to access $siteurl$htprefix/titi/toto. Basically, if your site is installed on "localhost/foo", try to get "localhost/foo/titi/toto". If you get the same error page than previously (the UWiKiCMS flavoured 404 page), everything's fine. If you get Apache's default 404 page, there's something wrong with the file "localhost/foo/.htaccess".
</p>
<p>
Now, everything is up and running, it's over.
</p>
<p>
Toy arround, try things without bothering to read the <a href="/uwikicms/doc/manual?lang=en">manual</a>
 (I would have done the same), UWiKiCMS has few features so that you can master all of them quickly.
</p>
<h2>
Users handling
</h2>
<h3>
No "back-office", why?
</h3>
<p>
Simply because by coding a "add user, modify user, delete user" interface, I would have felt like reinventing the wheel.
</p>
<p>
The UWiKiCMS typical use is two or three contributors managing a single website. UWiKiCMS is very poor in terms of collaborative work, so it's globally not designed for massive multi-users usage.
</p>
<p>
In this context, managing users through PhpMyAdmin seems acceptable, if not preferable.
</p>
<h3>
Structure of uwikicms_user table
</h3>
<dl>
<dt>user_id<dd>the login used to connect.
<dt>user_passwd<dd>the corresponding password, crypted with MD5
<dt>user_label<dd>the users label (ie firstname + lastname)
<dt>user_copyright_holder<dd>the copyright holder for all contents edited by this user. Note that UWiKiCMS displays a message at the bottom of every page, which basically says that the document is "copylefted" (using the GNU FDL) and that the copyright belongs to this defined "copyright holder". To change this behaviour, you need to edit the code, which is perfectly allowed and possible.
<dt>user_email<dd>the users email. It's not necessary to define it, especially if one whishes to escape the 500 tons of spam which will undoubtly fill any mail box that is publicly displayed on the web.
<dt>user_status<dd>the user's status, ranging from 0 to 3. 
<dt>user_domain_regex<dd>for status 2 contributors, defines the sections they're allowed to edit.
</dl>
<p>
The user_status has the following meaning:
</p>
<dl>
<dt>"0"<dd>anonymous, creating such a user does not make any sense
<dt>"1"<dd>visitor, invited. That type of user cannot edit content, but they can read all the "password protected" documents. Typically I use this profile to publish informations which are not highly confidential but must not be harvested by robots nor seen by absolutely anyone. I spread the password widely and do not really care if someone steals it.
<dt>"2"<dd>contributor. These users can edit content. It's possible to "sandbox" them and limit the sections they're allowed to edit. This achieved by editing a regex (regular expression). For instance to limit edition to the toto zone, the regex "/toto" is just what your need.
<dt>"3"<dd>administrator. Can do anything. Can edit "confidential" content, which can only be seen by an administrator.
</dl>
<h3>
Pratical examples
</h3>
<p>
Here are a few SQL requests which show basic user management:
</p>
<p>
Creating a contributor:
</p>
<pre>
 INSERT INTO uwikicms_user 
 (user_id, user_passwd, user_label, user_copyright_holder, user_email, user_status, user_domain_regex)
 VALUES ('toto',MD5('0+0=0'),'Mr Toto','Toto','toto@ufoot.org',2,'/toto');
</pre>
<p>
Changing password:
</p>
<pre>
 UPDATE uwikicms_user 
 SET user_passwd=MD5('lateteatoto') 
 WHERE user_id='toto';
 
</pre>
<p>
Deleting user:
</p>
<pre>
 DELETE FROM uwikicms_user
 WHERE user_id='toto';
</pre>
</div>
  </div>

  <div id="block4">

  <div id="actions" class="box admin">
  <ul>
         
    <li><a href="/?lang=en">Home</a></li>
	
    <li>
  <a href="/uwikicms/doc/install?lang=en&amp;action=loginform">Login</a>
</li>
  </ul>
  </div>

  </div>

  <div id="block5">

  <div id="infos" class="box system">
    <div id="credits">
    Page generated by <a href="http://www.ufoot.org/uwikicms">UWiKiCMS</a> 1.0.9 on Wed Dec 21 2005.    </div>
        <div id="rights">
    Copyright &copy; 2005 <a href="mailto:ufoot@ufoot.org">Christian Mauduit</a>. Permission is granted to copy, distribute and/or modify this document under the terms of the <a href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</a>, Version 1.2 or any later version published by the <a href="http://www.fsf.org/">Free Software Foundation</a>; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.    </div>
            <div id="lastupdate">
    Updated on Wed Dec 21 2005.    </div>
            <div id="absoluteurl">
      Source:      <a href="http://www.ufoot.org/uwikicms/doc/install?lang=en">http://www.ufoot.org/uwikicms/doc/install?lang=en</a>
    </div>
      </div>

  </div>

  </body>
</html>

